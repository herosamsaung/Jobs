<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>بوابة وظائف رؤيا | الأردن</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css?family=Tajawal:400,700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Tajawal', Arial, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e4ecf7 100%);
      margin: 0; padding: 0; color: #222; min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }
    body.dark { background: linear-gradient(135deg, #18152b 0%, #321e53 100%); color: #e7e5f7; }
    header {
      background: #6900ad; color: #fff;
      padding: 20px 0 10px 0; text-align: center; box-shadow: 0 3px 16px #865fc44d;
      position: sticky; top: 0; z-index: 10;
      transition: background 0.3s;
    }
    body.dark header { background: #1e0832; }
    .logo { height: 68px; margin-bottom: 6px; }
    h1 { margin: 0 0 8px 0; font-size: 2.2rem; font-weight: 700; letter-spacing: 1px; }
    .subtitle { font-size: 1.2rem; color: #e5d7f9; margin-bottom: 5px; }
    body.dark .subtitle { color: #cdbff1; }
    .container {
      max-width: 1200px; margin: 32px auto 18px auto; padding: 18px; background: #fff;
      border-radius: 20px; box-shadow: 0 2px 22px #a97be73f; position: relative; z-index: 1;
      transition: background 0.3s, color 0.3s;
    }
    body.dark .container { background: #241740; color: #e7e5f7; }
    .stats { display: flex; gap: 20px; justify-content: center; margin: 18px 0 30px 0; flex-wrap: wrap; }
    .stat {
      background: #6900ad; color: #fff; padding: 18px 32px; border-radius: 15px;
      font-size: 1.1rem; font-weight: 600; box-shadow: 0 1px 4px #0001; text-align: center;
      min-width: 150px; transition: background 0.3s, color 0.3s;
    }
    body.dark .stat { background: #38185e; }
    .jobs-list {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(290px, 1fr)); gap: 24px;
    }
    .job-card {
      background: #fff; border: 1.5px solid #d6c6ed; border-radius: 16px;
      padding: 22px 18px 18px 18px; box-shadow: 0 6px 36px #a97be713;
      transition: transform 0.1s, background 0.3s, color 0.3s;
      position: relative; overflow: hidden; min-height: 250px;
      display: flex; flex-direction: column; justify-content: space-between;
    }
    body.dark .job-card { background: #2b1d45; color: #ebebf8; border-color: #51306d; }
    .job-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
    .job-icon {
      font-size: 2.5rem; background: #f1e7ff; border-radius: 50%; width: 48px; height: 48px;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 2px 10px #a97be711;
    }
    body.dark .job-icon { background: #321e53; }
    .job-title { font-size: 1.27rem; font-weight: bold; color: #6900ad; }
    body.dark .job-title { color: #f9d13d; }
    .job-info-table { width: 100%; font-size: 1.05rem; margin: 8px 0 8px 0; }
    .job-info-table td { padding: 3px 0; }
    .salary { font-weight: bold; color: #0a6c19; }
    body.dark .salary { color: #89fa8e; }
    .apply-btn {
      background: linear-gradient(90deg, #8400d3 0%, #a97be7 100%);
      color: #fff; border: none; border-radius: 10px; padding: 11px 0;
      font-size: 1.1rem; font-weight: 700; cursor: pointer;
      box-shadow: 0 1px 8px #6900ad1b; margin-top: 14px; width: 100%;
      transition: background 0.2s;
      letter-spacing: 0.5px;
    }
    .apply-btn:hover { background: linear-gradient(90deg, #6900ad 0%, #a97be7 100%); }
    .fav-btn {
      position:absolute;top:10px;left:10px;background:none;border:none;font-size:1.7rem;cursor:pointer;color:#fdc800;
      z-index:1; transition: color 0.2s;
    }
    .fav-btn.fav { color: #f9d13d; }
    .job-province { font-size: 1.01rem; color: #6900ad; margin-bottom: 6px; font-weight:600;}
    body.dark .job-province { color: #f9d13d; }
    /* زر واتساب صغير */
    .wa-btn {
      position:fixed;bottom:26px;left:26px;z-index:9999;background:#25d366;border-radius:50%;width:46px;height:46px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0002;
      transition:background 0.3s;
    }
    .wa-btn img { width:28px;height:28px; }
    /* الوضع الليلي */
    #dark-toggle {
      position:fixed;top:24px;left:28px;z-index:11111;background:#fff;border-radius:50%;width:43px;height:43px;display:flex;align-items:center;justify-content:center;
      box-shadow:0 2px 12px #6900ad2b;cursor:pointer;font-size:1.7rem;color:#6900ad;transition:.2s;
    }
    body.dark #dark-toggle { background:#251a35;color:#f9d13d; }
    /* مودال التقديم */
    .modal-bg {
      position: fixed; inset: 0; background: #0008; z-index: 10000;
      display: flex; align-items: center; justify-content: center; animation: fadeIn 0.3s;
    }
    .modal {
      background: #fff; border-radius: 18px; max-width: 98vw; width: 410px;
      box-shadow: 0 4px 32px #6900ad3a; padding: 38px 20px 28px 20px; text-align: center; position: relative; animation: slideIn 0.25s;
      transition: background 0.3s, color 0.3s;
    }
    body.dark .modal { background: #251a35; color: #fff; }
    .modal h2 { color: #6900ad; margin-bottom: 20px; }
    body.dark .modal h2 { color: #f9d13d; }
    .modal input, .modal select, .modal textarea {
      width: 92%; padding: 8px 10px; border-radius: 8px; border: 1.5px solid #cbb7eb;
      font-size: 1.08rem; margin-bottom: 16px; direction: rtl; outline: none; transition: border 0.2s;
      background: #fff; color: #222;
    }
    body.dark .modal input, body.dark .modal select, body.dark .modal textarea {
      background: #2b1d45; color: #fff; border-color: #51306d;
    }
    .modal input:focus, .modal select:focus, .modal textarea:focus { border-color: #6900ad; }
    .modal button {
      background: linear-gradient(90deg, #6900ad 0%, #a97be7 100%);
      color: #fff; border: none; border-radius: 10px; padding: 9px 27px;
      font-size: 1.08rem; font-weight: 600; cursor: pointer; box-shadow: 0 1px 8px #6900ad1b; margin-top: 10px;
      transition: background 0.2s;
    }
    .modal .note { color: #ad6c00; font-size: 0.98rem; margin-top: 8px; margin-bottom: 8px; }
    .modal .success { color: #0a6c19; font-size: 1.09rem; margin-top: 10px; margin-bottom: 10px; font-weight: bold; }
    body.dark .modal .success { color: #89fa8e; }
    .modal .pay-btn {
      background: linear-gradient(90deg, #e56400 0%, #fbae3c 100%);
      color: #fff; border: none; border-radius: 10px; padding: 10px 34px; font-size: 1.16rem;
      font-weight: 700; margin-top: 22px; cursor: pointer; box-shadow: 0 1px 8px #c89a2a2b;
    }
    .modal .pay-btn:active { background: #e56400 }
    /* توست */
    #toast {
      min-width:200px;position:fixed;bottom:95px;left:40px;z-index:10000;background:#6900ad;color:#fff;
      padding:14px 30px;border-radius:12px;display:none;font-size:1.08rem;box-shadow:0 2px 10px #6900ad2b;
      transition:background 0.3s,color 0.3s;
    }
    body.dark #toast { background:#f9d13d;color:#1e0832; }
    /* Responsive */
    @media (max-width: 700px) {
      .container { padding: 6px; }
      .stats { flex-direction: column; gap: 12px; }
      .modal { width: 97vw; padding: 28px 3vw 20px 3vw; }
      .job-card { padding: 12px 3px 10px 3px; }
      #dark-toggle { left: 12px; top: 12px; }
      .wa-btn { left: 12px; bottom: 12px; }
    }
  </style>
</head>
<body>
  <!-- الوضع الليلي -->
  <div id="dark-toggle" title="الوضع الليلي/النهاري">🌙</div>

  <!-- زر واتساب صغير -->
  <a href="https://wa.me/962799999999" class="wa-btn" target="_blank" title="تواصل مع الدعم">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="واتساب">
  </a>

  <header>
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/ROYA_TV_LOGO.svg/512px-ROYA_TV_LOGO.svg.png" alt="شعار رؤيا"/>
    <h1>بوابة وظائف رؤيا</h1>
    <div class="subtitle">كل فرص العمل المتوفرة في الأردن بين يديك — تصفح وقدم بذكاء!</div>
  </header>

  <div class="container">
    <div class="stats">
      <div class="stat" id="stat-jobs">عدد الوظائف المتاحة: <span>--</span></div>
      <div class="stat" id="stat-apps">طلبات اليوم: <span>--</span></div>
    </div>
    <div style="margin-bottom:14px; text-align:center;">
      <input id="search" type="text" placeholder="ابحث عن وظيفة أو كلمة مفتاحية..." style="padding:8px 12px; border-radius:8px; border:1.5px solid #cbb7eb; width:260px; font-size:1.03rem; margin-bottom:12px;direction:rtl;" />
      <select id="filter-province" style="padding:6px 10px;border-radius:8px;border:1.5px solid #cbb7eb;font-size:1.01rem;margin-right:8px;">
        <option value="">كل المحافظات</option>
        <option>عمان</option><option>إربد</option><option>الزرقاء</option><option>العقبة</option>
        <option>المفرق</option><option>السلط</option><option>جرش</option>
        <option>عجلون</option><option>مأدبا</option><option>الكرك</option>
        <option>الطفيلة</option><option>معان</option>
      </select>
    </div>
    <div class="jobs-list" id="jobs-list">
      <!-- الوظائف ستظهر هنا -->
    </div>
  </div>

  <footer style="background:#f7f2ff; color:#6900ad; text-align:center; padding:18px 0 10px 0; border-radius:18px 18px 0 0; font-size:1.07rem; margin:23px 0 0 0; box-shadow: 0 -2px 12px #a97be71a;">
    جميع الحقوق محفوظة &copy; قناة رؤيا 2025 — تصميم وتطوير: فريق رؤيا الرقمي
  </footer>

  <!-- إشعارات توست -->
  <div id="toast"></div>

  <!-- نافذة التقديم -->
  <div class="modal-bg" id="apply-modal-bg" style="display:none">
    <div class="modal" id="apply-modal"></div>
  </div>

  <script>
    // بيانات الوظائف
    const jobsData = [
      { title: "مندوب مبيعات", salary: 650, hours: 8, desc: "ترويج منتجات الشركة وزيارة العملاء.", img: "🛒", province:"عمان", type:"دوام كامل", company:"شركة النجاح", exp:"بدون خبرة" },
      { title: "محاسب مالي", salary: 950, hours: 9, desc: "إدارة الحسابات وإصدار التقارير المالية.", img: "📊", province:"إربد", type:"دوام كامل", company:"دار الحساب", exp:"1-3 سنوات" },
      // أضف المزيد حسب الحاجة
    ];
    function updateStats() {
      document.querySelector("#stat-jobs span").textContent = jobsData.length;
      document.querySelector("#stat-apps span").textContent = Math.floor(Math.random()*10)+1;
    }

    // الوظائف
    function renderJobs(filter="") {
      let jobs = jobsData;
      const province = document.getElementById("filter-province").value;
      if(filter && filter.trim()!=="") {
        jobs = jobs.filter(j => (j.title+j.desc+j.company+j.province+j.type).includes(filter));
      }
      if(province) jobs = jobs.filter(j=>j.province===province);
      const list = document.getElementById("jobs-list");
      list.innerHTML = "";
      jobs.forEach((job, idx) => {
        let showProvince = province ? `<div class="job-province">المحافظة: <span>${job.province||"--"}</span></div>` : "";
        list.innerHTML += `
        <div class="job-card">
          <button class="fav-btn" title="إضافة للمفضلة" onclick="showToast('تمت الإضافة للمفضلة!')"><span>☆</span></button>
          <div class="job-header">
            <div class="job-icon">${job.img||"💼"}</div>
            <div class="job-title">${job.title}</div>
          </div>
          <div style="margin-bottom:9px;color:#444;">${job.desc}</div>
          <table class="job-info-table">
            <tr><td>الشركة:</td><td>${job.company||"--"}</td></tr>
            <tr><td>النوع:</td><td>${job.type||"--"}</td></tr>
            <tr><td>الخبرة:</td><td>${job.exp||"--"}</td></tr>
            <tr><td>الراتب:</td><td class="salary">${job.salary} دينار</td></tr>
            <tr><td>ساعات العمل:</td><td>${job.hours} ساعة</td></tr>
          </table>
          ${showProvince}
          <button class="apply-btn" onclick="openApplyModal(${idx})">تقديم الآن</button>
        </div>`;
      });
    }
    document.getElementById("search").oninput = function() { renderJobs(this.value); }
    document.getElementById("filter-province").onchange = function(){ renderJobs(document.getElementById("search").value);}
    // الوضع الليلي
    let dark = localStorage.getItem("darkMode")==="1";
    function setDarkMode(on) {
      dark = on;
      if(on) document.body.classList.add("dark"); else document.body.classList.remove("dark");
      localStorage.setItem("darkMode",on?"1":"0");
    }
    setDarkMode(dark);
    document.getElementById("dark-toggle").onclick = function(){ setDarkMode(!dark);}
    // توست
    window.showToast = function(msg, duration=2500) {
      let toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.style.display = "block";
      setTimeout(()=>{toast.style.display="none";}, duration);
    }
    // نافذة التقديم الذكي
    function openApplyModal(idx) {
      const job = jobsData[idx];
      const modal = document.getElementById("apply-modal");
      let step = 0;
      function nextStep() {
        step++;
        renderStep();
      }
      function renderStep() {
        if(step===0){
          modal.innerHTML = `
            <h2>تأكيد الوظيفة</h2>
            <div style="font-size:1.12rem;margin-bottom:9px;"><b>${job.img||"💼"} ${job.title}</b></div>
            <div>الراتب: <b>${job.salary} دينار</b></div>
            <div>نوع الدوام: <b>${job.type}</b></div>
            <div>ساعات العمل: <b>${job.hours} ساعة</b></div>
            <button style="margin-top:18px;" onclick="nextStep()">متابعة الإجراءات</button>
            <button style="margin-top:14px;background:#eee;color:#333;border:1px solid #ddd;" onclick="closeApplyModal()">إلغاء</button>
          `;
        } else if(step===1){
          modal.innerHTML = `
            <h2>رسوم الحجز</h2>
            <div style="margin-bottom:12px;">
              لإتمام حجز مكانك الوظيفي يجب دفع رسوم إصدار شهادة عدم محكومية فورية ورسوم حكومية وطوابع بمجموع <b>32.5 دينار</b>.<br>
              <span style="color:#ad6c00;font-size:.99rem;">المبلغ يُسترد بالكامل في حال أبلغت بعدم الحضور قبل موعد العمل.</span>
            </div>
            <button class="pay-btn" onclick="nextStep()">تم الدفع</button>
          `;
        } else {
          modal.innerHTML = `
            <h2>تم حجز مكانك!</h2>
            <div class="success">تمت العملية بنجاح.<br>سنقوم بالتواصل معك قريبًا لتأكيد التفاصيل.</div>
            <button style="margin-top:18px;background:#eee;color:#6900ad;border:1px solid #6900ad;" onclick="closeApplyModal()">إغلاق</button>
          `;
        }
        // زر انتقال الخطوة
        window.nextStep = nextStep;
      }
      renderStep();
      document.getElementById("apply-modal-bg").style.display="flex";
    }
    function closeApplyModal() {
      document.getElementById("apply-modal-bg").style.display="none";
    }
    window.openApplyModal = openApplyModal;
    window.closeApplyModal = closeApplyModal;

    // تحميل الصفحة
    window.onload = function() {
      updateStats();
      renderJobs();
    }
  </script>
</body>
</html>