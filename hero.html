<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¥Ø¯Ø§Ø±Ø© ÙˆØ¸Ø§Ø¦Ù Ø±Ø¤ÙŠØ§</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css?family=Tajawal:400,700&display=swap" rel="stylesheet">
  <link rel="icon" href="https://www2.0zz0.com/2025/10/15/17/197165129.png">
  <style>
    body {
      font-family: 'Tajawal', Arial, sans-serif;
      background: linear-gradient(135deg, #e8eafc 0%, #e4ecf7 100%);
      margin: 0; padding: 0; color: #222; min-height: 100vh;
      transition: background 0.3s;
    }
    body.dark { background: #2d1d44; color:#fff; }
    header {
      background: #6900ad;
      color: #fff;
      padding: 22px 0 14px 0;
      text-align: center;
      box-shadow: 0 3px 16px #865fc44d;
      position:relative;
    }
    .logo {
      height: 68px; margin-bottom: 8px;
      border-radius: 16px;
      box-shadow: 0 2px 18px #fff9, 0 0px 0 #fff0;
      background: #fff5;
    }
    .admin-wrapper {
      max-width:1150px;margin:40px auto 0 auto;padding:0 12px;
      display:flex; gap:22px; flex-wrap:wrap; align-items:flex-start;
    }
    .card {
      background: #fff;
      border-radius: 22px;
      box-shadow: 0 6px 36px #a97be71a, 0 1.5px 0 #fff4;
      padding: 2.3em 2em 2em 2em;
      margin-bottom: 30px;
      flex:1 1 340px;
      min-width:340px;
      max-width:100%;
      transition:box-shadow 0.2s;
      position:relative;
    }
    body.dark .card { background: #372563; color: #f3eafd; }
    .card-title {
      font-size: 1.4rem;
      font-weight: bold;
      color: #6900ad;
      margin-bottom: 18px;
      display:flex;align-items:center;gap:6px;
    }
    body.dark .card-title { color: #f9d13d; }
    .site-settings label {
      font-weight:600;font-size:1.07rem;margin-right:9px;
    }
    .site-settings input[type="text"] {
      border-radius:12px;
      border:1.5px solid #cbb7eb;
      font-size:1.12rem;
      padding:8px 13px;
      margin-bottom:10px;
      margin-right:5px;
      outline: none;
      width:70%;
      max-width:370px;
      background:#f7f2ff;
      transition: border 0.2s;
    }
    .site-settings input[type="color"] {
      width:60px;height:38px;border-radius:12px;border:none;margin-right:8px;vertical-align:middle;
    }
    .site-settings .row {margin-bottom:10px;}
    .admin-btn {
      background:linear-gradient(90deg,#6900ad 60%,#a97be7 100%);
      color:#fff;border:none;border-radius:10px;padding:8px 19px;cursor:pointer;
      font-weight:700;font-size:1.05rem;transition:background .15s;
      margin-right:8px;margin-bottom:8px;
      box-shadow:0 2px 8px #6900ad22;
    }
    .admin-btn.danger {background:#b30000;}
    .admin-btn.reset {background:#aaa;}
    .admin-btn.light {background:#f7f2ff;color:#6900ad;border:1.5px solid #6900ad;}
    .admin-btn:active {transform:scale(0.97);}
    .logo-preview {
      width:110px;max-height:90px;object-fit:contain;display:block;margin:0 auto 10px auto;cursor:pointer;border-radius:12px;
      background:#f7f2ff;padding:6px 0;box-shadow:0 2px 8px #bba2f633;
    }
    .stats-bar {
      display:flex;gap:23px;justify-content:center;margin-bottom:20px;flex-wrap:wrap;
    }
    .stat {
      background:#6900ad;color:#fff;padding:18px 29px;border-radius:15px;
      font-size:1.09rem;font-weight:700;min-width:130px;box-shadow:0 2px 18px #a97be73f;
      display:flex;align-items:center;gap:8px;
    }
    .logout-btn {
      background:#f9d13d;color:#6900ad;font-weight:700;border:none;
      border-radius:12px;padding:8px 24px;margin-top:0;cursor:pointer;font-size:1.1rem;
      float:left;position:absolute;left:22px;top:18px;box-shadow:0 2px 12px #6900ad19;
    }
    .supervisors-table, .users-table, .jobs-table {
      width:100%; border-collapse:collapse; margin: 0 0 10px 0;
    }
    .supervisors-table th, .supervisors-table td,
    .users-table th, .users-table td,
    .jobs-table th, .jobs-table td {
      border:1px solid #d6c6ed;padding:7px 10px;font-size:1.01rem;
    }
    .supervisors-table th, .users-table th, .jobs-table th {
      background:#efecfa;
      color:#6900ad;
      font-weight:700;
    }
    .jobs-table tr:nth-child(even) td,
    .users-table tr:nth-child(even) td {
      background:#f7f2ff;
    }
    .search-box {
      padding:7px 13px;border-radius:12px;border:1.5px solid #cbb7eb;
      font-size:1.09rem;margin:0 9px 15px 0;width:220px;outline:none;
    }
    .card-list {display:flex;flex-wrap:wrap;gap:15px;}
    .job-card-admin {
      background:#f7f2ff;padding:13px 14px 11px 14px;border-radius:13px;
      min-width:260px;flex:1 1 265px;box-shadow:0 1px 10px #a97be77a;
      margin-bottom:13px;position:relative;
      display:flex;flex-direction:column;gap:9px;
    }
    .job-card-admin .job-title {font-size:1.13rem;font-weight:700;color:#6900ad;}
    .job-card-admin .job-company {font-size:0.98rem;margin-bottom:4px;}
    .job-card-admin .job-actions {
      margin-top:5px;display:flex;gap:7px;flex-wrap:wrap;
    }
    .job-card-admin .job-img {width:44px;height:44px;border-radius:50%;object-fit:cover;background:#eee;margin-left:8px;}
    .badge {background:#efecfa;color:#6900ad;border-radius:8px;padding:2px 9px;margin-right:6px;}
    .status-badge {font-weight:700;font-size:1.01rem;padding:2px 8px;border-radius:8px;}
    .status-badge.pending {background:#fff5d6;color:#ad6c00;}
    .status-badge.approved {background:#e0ffd9;color:#127c01;}
    .status-badge.rejected {background:#ffd8d6;color:#b30000;}
    .ready-jobs-list {margin-bottom:12px;max-height:220px;overflow:auto;}
    .ready-jobs-list option {font-size:1.09rem;}
    .dark-toggle {
      position:fixed;top:24px;left:28px;z-index:11111;background:#fff;
      border-radius:50%;width:43px;height:43px;display:flex;align-items:center;justify-content:center;
      font-size:1.7rem;color:#6900ad;box-shadow:0 1px 12px #6900ad19;cursor:pointer;
    }
    @media (max-width: 800px) {
      .admin-wrapper {flex-direction:column;gap:0;}
      .card {padding:1.1em 4vw;}
      .logout-btn {position:static;float:none;display:block;margin:0 auto 15px auto;}
    }
    @media (max-width: 600px) {
      .card {min-width:96vw;}
      .card-list {flex-direction:column;}
      .logout-btn {margin-bottom:17px;}
      .stats-bar {flex-direction:column;gap:12px;}
      .logo-preview {width:70px;}
    }
    #toast {
      min-width:200px;position:fixed;bottom:45px;left:50%;transform:translateX(-50%);
      z-index:10000;background:#6900ad;color:#fff; padding:14px 30px;
      border-radius:12px;display:none;font-size:1.08rem;
      box-shadow:0 2px 18px #a97be73f;
    }
    /* Modal Styles */
    .modal-bg {
      display:none;position:fixed;inset:0;background:#0007;z-index:10000;
      align-items:center;justify-content:center;
    }
    .modal {
      background:#fff;border-radius:24px;max-width:98vw;width:380px;
      box-shadow:0 4px 32px #6900ad3a;padding:44px 26px 33px 26px;text-align:center;
      display:flex;flex-direction:column;gap:10px;align-items:center;
      position:relative;
    }
    .modal input, .modal select {
      border:1.5px solid #cbb7eb;border-radius:13px;padding:10px 12px;font-size:1.13rem;
      width:85%;margin-bottom:9px;outline:none;background:#f7f2ff;
    }
    .modal .modal-title {font-size:1.22rem;font-weight:700;color:#6900ad;margin-bottom:8px;}
    .modal .modal-icon {font-size:2.4rem;margin-bottom:11px;color:#a97be7;}
    .modal .modal-btn {margin-top:13px;}
    .modal .err {color:#b30000;font-size:1rem;}
    .modal .close-x {position:absolute;top:8px;left:14px;font-size:1.34rem;cursor:pointer;}
    .modal input[type="password"] {letter-spacing:2px;}
    .modal input[type="file"] {background:#fff;border:none;}
  </style>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <div class="dark-toggle" id="dark-toggle" title="Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ/Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ">ğŸŒ™</div>
  <header>
    <img class="logo" id="logo-img" src="https://www2.0zz0.com/2025/10/15/17/197165129.png" alt="Ø´Ø¹Ø§Ø± Ø±Ø¤ÙŠØ§"/>
    <h2 style="font-size:2.1rem;margin-top:7px;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¥Ø¯Ø§Ø±Ø© ÙˆØ¸Ø§Ø¦Ù Ø±Ø¤ÙŠØ§</h2>
  </header>
  
  <div class="admin-wrapper" id="admin-wrapper"></div>
  <div id="toast"></div>

  <!-- MODALS -->
  <div class="modal-bg" id="admin-modal-bg">
    <div class="modal" id="admin-modal">
      <span class="close-x" onclick="hideModal('admin-modal-bg')">&times;</span>
      <div class="modal-icon">ğŸ”’</div>
      <div class="modal-title">Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
      <input type="text" id="admin-user" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ" autocomplete="username"/>
      <input type="password" id="admin-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="current-password"/>
      <button class="admin-btn modal-btn" id="admin-login-btn">Ø¯Ø®ÙˆÙ„</button>
      <div id="admin-err" class="err"></div>
    </div>
  </div>
  <input type="file" id="logo-upload" style="display:none" accept="image/*">

  <!-- Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø§Ù‡Ø²Ø© -->
  <div class="modal-bg" id="readyjob-modal-bg">
    <div class="modal" id="readyjob-modal">
      <span class="close-x" onclick="hideModal('readyjob-modal-bg')">&times;</span>
      <div class="modal-title">Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø§Ù‡Ø²Ø©</div>
      <select id="ready-job-list" size="7" style="width:90%;margin-bottom:13px;"></select>
      <button class="admin-btn" id="add-ready-job-btn">Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¸ÙŠÙØ©</button>
      <div id="readyjob-err" class="err"></div>
    </div>
  </div>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDC8Gx2IJRDTMzR42_kbv_tuT9i11-KRzk",
      authDomain: "royajobs.firebaseapp.com",
      databaseURL: "https://royajobs-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "royajobs",
      storageBucket: "royajobs.firebasestorage.app",
      messagingSenderId: "914105960159",
      appId: "1:914105960159:web:d5f17f3edc5e26a5b58b6a",
      measurementId: "G-N7C9WJZBD8"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
    let dark = localStorage.getItem("darkMode")==="1";
    function setDarkMode(on) {
      dark = on;
      if(on) document.body.classList.add("dark"); else document.body.classList.remove("dark");
      localStorage.setItem("darkMode",on?"1":"0");
    }
    setDarkMode(dark);
    document.getElementById("dark-toggle").onclick = function(){ setDarkMode(!dark);};

    // Toast
    window.showToast = function(msg, duration=2700) {
      let toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.style.display = "block";
      setTimeout(()=>{toast.style.display="none";}, duration);
    };

    // Modal helpers
    function showModal(id) { document.getElementById(id).style.display='flex'; }
    function hideModal(id) { document.getElementById(id).style.display='none'; }

    // Ready Jobs (50 ÙˆØ¸ÙŠÙØ© Ø¬Ø§Ù‡Ø²Ø©)
    const readyJobs = [
      {title:'Ù…Ø­Ø§Ø³Ø¨',company:'Ø´Ø±ÙƒØ© Ù…Ø§Ù„ÙŠØ©',salary:500,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ’¼',desc:'Ù…Ø­Ø§Ø³Ø¨ Ø°Ùˆ Ø®Ø¨Ø±Ø© ÙÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©.'},
      {title:'Ù…Ù†Ø¯ÙˆØ¨ Ù…Ø¨ÙŠØ¹Ø§Øª',company:'Ø§Ù„Ù…ØªØ­Ø¯Ø© Ù„Ù„ØªØ³ÙˆÙŠÙ‚',salary:400,hours:7,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ¤',desc:'Ù…Ù†Ø¯ÙˆØ¨ Ù…Ø¨ÙŠØ¹Ø§Øª Ù…ÙŠØ¯Ø§Ù†ÙŠ/Ù‡Ø§ØªÙÙŠ.'},
      {title:'Ø³ÙƒØ±ØªÙŠØ±Ø© ØªÙ†ÙÙŠØ°ÙŠØ©',company:'Ù…ÙƒØªØ¨ Ù‚Ø§Ù†ÙˆÙ†ÙŠ',salary:350,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸ‘©â€ğŸ’¼',desc:'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.'},
      {title:'Ø³Ø§Ø¦Ù‚ ØªÙˆØµÙŠÙ„',company:'ØªØ·Ø¨ÙŠÙ‚ Ø¯Ù„ÙŠÙØ±ÙŠ',salary:380,hours:10,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸš—',desc:'ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„.'},
      {title:'Ù…Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª',company:'Ø­Ù„ÙˆÙ„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„',salary:320,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ’»',desc:'Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±.'},
      {title:'ÙÙ†ÙŠ ØµÙŠØ§Ù†Ø© Ø£Ø¬Ù‡Ø²Ø©',company:'Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª Ø§Ù„Ø®Ù„ÙŠØ¬',salary:450,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ› ï¸',desc:'ÙØ­Øµ ÙˆØµÙŠØ§Ù†Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©.'},
      {title:'Ù…Ø·ÙˆØ± ÙˆÙŠØ¨',company:'Ø±ÙˆØ§Ø¯ Ø§Ù„ØªÙ‚Ù†ÙŠØ©',salary:700,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸŒ',desc:'Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± Ù…ÙˆØ§Ù‚Ø¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©.'},
      {title:'Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡',company:'Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ù†Ø¬Ø§Ø­',salary:300,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ“',desc:'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ­Ù„ Ù…Ø´Ø§ÙƒÙ„Ù‡Ù….'},
      {title:'Ù…Ø¯Ø±Ø³ Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©',company:'Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ù†Ø®Ø¨Ø©',salary:500,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø³Ù†Ø©',img:'ğŸ“š',desc:'ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ø±.'},
      {title:'Ù…Ù…Ø±Ø¶/Ø©',company:'Ù…Ø±ÙƒØ² ØµØ­ÙŠ',salary:550,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ©º',desc:'ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ© Ù„Ù„Ù…Ø±Ø¶Ù‰.'},
      {title:'Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¯Ù†ÙŠ',company:'Ø´Ø±ÙƒØ© Ù…Ù‚Ø§ÙˆÙ„Ø§Øª',salary:800,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'3 Ø³Ù†ÙˆØ§Øª',img:'ğŸ—ï¸',desc:'Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ.'},
      {title:'Ø­Ø§Ø±Ø³ Ø£Ù…Ù†',company:'Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ',salary:320,hours:12,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ›¡ï¸',desc:'Ø­Ø±Ø§Ø³Ø© Ø§Ù„Ù…Ù†Ø´Ø¢Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ù†ÙŠ.'},
      {title:'Ù…Ø­Ù„Ù„ Ø¨ÙŠØ§Ù†Ø§Øª',company:'Data Solutions',salary:850,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸ“Š',desc:'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø±Ø§Ù…Ø¬ Ù…ØªÙ‚Ø¯Ù…Ø©.'},
      {title:'Ù…Ù†Ø¯ÙˆØ¨ ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§Øª',company:'Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª',salary:350,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸš´',desc:'ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡.'},
      {title:'ÙƒØ§Ø´ÙŠØ±',company:'Ø³Ù„Ø³Ù„Ø© Ù…Ø·Ø§Ø¹Ù…',salary:320,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ§¾',desc:'Ù…Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† ÙˆØ¥ØµØ¯Ø§Ø± Ø§Ù„ÙÙˆØ§ØªÙŠØ±.'},
      {title:'Ù…ØµÙˆØ± ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ',company:'Ø³ØªÙˆØ¯ÙŠÙˆ ÙÙ†',salary:400,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø³Ù†Ø©',img:'ğŸ“·',desc:'ØªØµÙˆÙŠØ± Ù…Ù†Ø§Ø³Ø¨Ø§Øª ÙˆØ£ÙØ±Ø§Ø­.'},
      {title:'Ù…Ø·ÙˆØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª',company:'Arab Apps',salary:900,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸ“±',desc:'Ø¨Ø±Ù…Ø¬Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ÙˆØ¢ÙŠÙÙˆÙ†.'},
      {title:'Ù…Ù†Ø¯ÙˆØ¨Ø© ØªØ³ÙˆÙŠÙ‚ Ù‡Ø§ØªÙÙŠ',company:'Ù…Ø±ÙƒØ² Ø§ØªØµØ§Ù„Ø§Øª',salary:350,hours:7,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'â˜ï¸',desc:'ØªØ³ÙˆÙŠÙ‚ Ù…Ù†ØªØ¬Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ù‡Ø§ØªÙ.'},
      {title:'Ù…Ø´Ø±Ù Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª',company:'ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¬Ù…Ù„Ø©',salary:450,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ“¦',desc:'Ø¥Ø¯Ø§Ø±Ø© ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª.'},
      {title:'Ø®ÙŠØ§Ø·/Ø©',company:'Ø®ÙŠØ§Ø·Ø© Ø§Ù„Ø£Ù…Ù„',salary:300,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ§µ',desc:'Ø®ÙŠØ§Ø·Ø© Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø­Ø³Ø¨ Ø§Ù„Ø·Ù„Ø¨.'},
      // ... Ø£Ø¶Ù 30 ÙˆØ¸ÙŠÙØ© Ø£Ø®Ø±Ù‰ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
      {title:'Ù…Ø³Ø¤ÙˆÙ„ Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©',company:'HR Solutions',salary:600,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ‘”',desc:'Ø¥Ø¯Ø§Ø±Ø© Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†.'},
      {title:'Ø³Ø§Ø¦Ù‚ Ø´Ø§Ø­Ù†Ø©',company:'Ù†Ù‚Ù„ Ø§Ù„Ø¨Ø¶Ø§Ø¦Ø¹',salary:650,hours:12,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸšš',desc:'Ù†Ù‚Ù„ Ø§Ù„Ø¨Ø¶Ø§Ø¦Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¯Ù†.'},
      {title:'Ù…Ø¯ÙŠØ± Ù…Ø´Ø±ÙˆØ¹',company:'Tech Pro',salary:1100,hours:9,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'5 Ø³Ù†ÙˆØ§Øª',img:'ğŸ“ˆ',desc:'Ø¥Ø¯Ø§Ø±Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ ØªÙ‚Ù†ÙŠØ© Ø¶Ø®Ù…Ø©.'},
      {title:'Ù…Ø­Ø±Ø± ÙÙŠØ¯ÙŠÙˆ',company:'Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ù…ÙˆÙ†ØªØ§Ø¬',salary:500,hours:7,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø³Ù†Ø©',img:'ğŸ¬',desc:'Ù…ÙˆÙ†ØªØ§Ø¬ ÙˆØªØ­Ø±ÙŠØ± ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª.'},
      {title:'Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ø¯Ø§Ø±ÙŠ',company:'Ø´Ø±ÙƒØ© Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ©',salary:400,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ—‚ï¸',desc:'Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©.'},
      {title:'Ø´ÙŠÙ Ù…Ø·Ø¨Ø®',company:'Ù…Ø·Ø¹Ù… Ø®Ù…Ø³ Ù†Ø¬ÙˆÙ…',salary:800,hours:9,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'3 Ø³Ù†ÙˆØ§Øª',img:'ğŸ‘¨â€ğŸ³',desc:'ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©.'},
      {title:'Ù…Ù†Ø¯ÙˆØ¨ Ø¹Ù‚Ø§Ø±Ø§Øª',company:'Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø±Ù‚',salary:450,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ ',desc:'ØªØ³ÙˆÙŠÙ‚ ÙˆØ¨ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª.'},
      {title:'Ù…Ø­Ø§Ù…ÙŠ Ù…ØªØ¯Ø±Ø¨',company:'Ù…ÙƒØªØ¨ Ù‚Ø§Ù†ÙˆÙ†ÙŠ',salary:350,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'âš–ï¸',desc:'ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©.'},
      {title:'Ù…Ø¯Ø±Ø¨ Ù„ÙŠØ§Ù‚Ø©',company:'Ù†Ø§Ø¯ÙŠ ØµØ­ÙŠ',salary:330,hours:6,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ‹ï¸',desc:'ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ†.'},
      {title:'Ø¨Ø§Ø¦Ø¹ Ù…Ø¹Ø±Ø¶ Ø³ÙŠØ§Ø±Ø§Øª',company:'Ù…Ø¹Ø±Ø¶ Ø³ÙŠØ§Ø±Ø§Øª',salary:650,hours:9,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸš˜',desc:'ØªØ³ÙˆÙŠÙ‚ ÙˆØ¨ÙŠØ¹ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª.'},
      {title:'Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ',company:'Ø´Ø±ÙƒØ© Ø¥Ø¹Ù„Ø§Ù†',salary:550,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ¨',desc:'ØªØµÙ…ÙŠÙ… Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆÙ…Ù†Ø´ÙˆØ±Ø§Øª Ø±Ù‚Ù…ÙŠØ©.'},
      {title:'Ù…ÙˆØ¸Ù Ø§Ø³ØªÙ‚Ø¨Ø§Ù„',company:'ÙÙ†Ø¯Ù‚ ÙØ§Ø®Ø±',salary:420,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ¨',desc:'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¶ÙŠÙˆÙ ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª.'},
      {title:'Ù…Ø­Ù„Ù„ Ù†Ø¸Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',company:'IT Group',salary:950,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'3 Ø³Ù†ÙˆØ§Øª',img:'ğŸ’¾',desc:'ØªØ­Ù„ÙŠÙ„ Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ¯Ø¹Ù…Ù‡Ø§.'},
      {title:'Ù…Ø³Ø§Ø¹Ø¯ Ø·Ø¨ÙŠØ¨ Ø£Ø³Ù†Ø§Ù†',company:'Ø¹ÙŠØ§Ø¯Ø© Ø£Ø³Ù†Ø§Ù†',salary:380,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ¦·',desc:'Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙÙŠ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø©.'},
      {title:'Ø£Ø®ØµØ§Ø¦ÙŠ ØªØ³ÙˆÙŠÙ‚ Ø±Ù‚Ù…ÙŠ',company:'Digital Ads',salary:650,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ’¡',desc:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.'},
      {title:'Ù…Ø±Ø¨ÙŠØ© Ø£Ø·ÙØ§Ù„',company:'Ø­Ø¶Ø§Ù†Ø© Ø£Ø·ÙØ§Ù„',salary:300,hours:7,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ§’',desc:'Ø±Ø¹Ø§ÙŠØ© ÙˆØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø·ÙØ§Ù„.'},
      {title:'Ù…Ø³Ø§Ø¹Ø¯ ØµÙŠØ¯Ù„ÙŠ',company:'ØµÙŠØ¯Ù„ÙŠØ© Ø·Ø¨ÙŠØ©',salary:350,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ’Š',desc:'Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©.'},
      {title:'Ø¶Ø§Ø¨Ø· Ø¬ÙˆØ¯Ø©',company:'Ù…ØµÙ†Ø¹ Ù…Ù†ØªØ¬Ø§Øª',salary:480,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ”',desc:'Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.'},
      {title:'Ù…Ù‚Ø¯Ù… Ø¨Ø±Ø§Ù…Ø¬',company:'Ù‚Ù†Ø§Ø© ÙØ¶Ø§Ø¦ÙŠØ©',salary:1000,hours:7,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸ¤',desc:'ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ†ÙŠØ©.'},
      {title:'Ù…ØªØ±Ø¬Ù…',company:'Ù…ÙƒØªØ¨ ØªØ±Ø¬Ù…Ø©',salary:450,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸŒ',desc:'ØªØ±Ø¬Ù…Ø© Ù†ØµÙˆØµ ÙˆÙˆØ«Ø§Ø¦Ù‚.'},
      {title:'Ù…Ø±Ø§Ù‚Ø¨ Ù…Ø§Ù„ÙŠ',company:'Ø´Ø±ÙƒØ© Ù…Ø­Ø§Ø³Ø¨Ø©',salary:900,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'3 Ø³Ù†ÙˆØ§Øª',img:'ğŸ’°',desc:'Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±.'},
      {title:'Ù…Ø³Ø¤ÙˆÙ„ Ù…Ø´ØªØ±ÙŠØ§Øª',company:'Ø´Ø±ÙƒØ© Ø§Ø³ØªÙŠØ±Ø§Ø¯',salary:600,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†Ø©',img:'ğŸ›’',desc:'Ø´Ø±Ø§Ø¡ ÙˆØªÙˆØ±ÙŠØ¯ Ø§Ù„Ø¨Ø¶Ø§Ø¦Ø¹.'},
      {title:'Ù…Ù†Ø¯ÙˆØ¨ ØªØ­ØµÙŠÙ„',company:'Ø´Ø±ÙƒØ© ØªÙ…ÙˆÙŠÙ„',salary:350,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø¨Ø¯ÙˆÙ†',img:'ğŸ“¬',desc:'ØªØ­ØµÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡.'},
      {title:'Ø£Ø®ØµØ§Ø¦ÙŠ Ø´Ø¨ÙƒØ§Øª',company:'IT Group',salary:950,hours:8,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'Ø³Ù†ØªÙŠÙ†',img:'ğŸŒ',desc:'Ø¥Ø¯Ø§Ø±Ø© ÙˆØµÙŠØ§Ù†Ø© Ø§Ù„Ø´Ø¨ÙƒØ§Øª.'},
      {title:'Ù…Ø¯ÙŠØ± ØªØ³ÙˆÙŠÙ‚',company:'Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¥Ø¹Ù„Ø§Ù†Ø§Øª',salary:1100,hours:9,province:'ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª',type:'Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„',exp:'5 Ø³Ù†ÙˆØ§Øª',img:'ğŸ“¢',desc:'Ø¥Ø¯Ø§Ø±Ø© ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ³ÙˆÙŠÙ‚.'}
    ];

    // Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ù„Ø³Ø© ÙˆØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø´Ø±Ù
    let currentUser = null;
    let isHero = false;

    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    let defaultSiteSettings = {
      title:"Ø¨ÙˆØ§Ø¨Ø© ÙˆØ¸Ø§Ø¦Ù Ø±Ø¤ÙŠØ§",
      subtitle:"ÙƒÙ„ ÙØ±Øµ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ø£Ø±Ø¯Ù† Ø¨ÙŠÙ† ÙŠØ¯ÙŠÙƒ â€” ØªØµÙØ­ ÙˆÙ‚Ø¯Ù… Ø¨Ø°ÙƒØ§Ø¡!",
      logo:"https://www2.0zz0.com/2025/10/15/17/197165129.png",
      footer:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; Ù‚Ù†Ø§Ø© Ø±Ø¤ÙŠØ§ 2025 â€” ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ±: ÙØ±ÙŠÙ‚ Ø±Ø¤ÙŠØ§ Ø§Ù„Ø±Ù‚Ù…ÙŠ",
      mainColor:"#6900ad",
      secondaryColor:"#f9d13d"
    };
    let siteSettings = {...defaultSiteSettings};

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    function loadSiteSettings(cb) {
      db.ref("settings").once("value", snap=>{
        if(snap.exists()) Object.assign(siteSettings, snap.val());
        if(cb) cb();
      });
    }
    function saveSiteSettings() {
      db.ref("settings").set(siteSettings, ()=>showToast("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª!"));
    }
    function resetSiteSettings() {
      siteSettings = {...defaultSiteSettings};
      saveSiteSettings();
      showAdminPanel();
    }

    // Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±
    document.getElementById("logo-img").onclick = function() {
      document.getElementById("logo-upload").click();
    };
    document.getElementById("logo-upload").onchange = function(e){
      let file = e.target.files[0];
      if(!file) return;
      let reader = new FileReader();
      reader.onload = function(evt){
        siteSettings.logo = evt.target.result;
        saveSiteSettings();
        showAdminPanel();
      };
      reader.readAsDataURL(file);
    };

    // Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
    function checkAdmin() {
      if(localStorage.getItem("ruyaJobsAdmin")==="1" && localStorage.getItem("ruyaAdminUser")) {
        currentUser = JSON.parse(localStorage.getItem("ruyaAdminUser"));
        isHero = (currentUser.username==="Hero"||currentUser.username==="hero");
        showAdminPanel();
      } else {
        showModal("admin-modal-bg");
      }
    }

    document.getElementById("admin-login-btn").onclick = function() {
      let u = document.getElementById("admin-user").value.trim();
      let p = document.getElementById("admin-pass").value.trim();
      db.ref("supervisors").orderByChild("username").equalTo(u).once("value", snap=>{
        let val = snap.val();
        if((u==="Hero" || u==="hero") && p==="Hero@282") {
          localStorage.setItem("ruyaJobsAdmin","1");
          localStorage.setItem("ruyaAdminUser",JSON.stringify({username:"Hero"}));
          hideModal("admin-modal-bg");
          currentUser = {username:"Hero"};
          isHero = true;
          showAdminPanel();
        } else if(val) {
          let entry = Object.values(val)[0];
          if(entry && entry.password === p) {
            localStorage.setItem("ruyaJobsAdmin","1");
            localStorage.setItem("ruyaAdminUser",JSON.stringify({username:entry.username}));
            hideModal("admin-modal-bg");
            currentUser = {username:entry.username};
            isHero = false;
            showAdminPanel();
          } else {
            document.getElementById("admin-err").textContent = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
          }
        } else {
          document.getElementById("admin-err").textContent = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± ØµØ­ÙŠØ­";
        }
      });
    }

    function logout(){
      localStorage.removeItem("ruyaJobsAdmin");
      localStorage.removeItem("ruyaAdminUser");
      location.reload();
    };

    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    let jobsData = [], jobsKeys = [], allApplications = [], allUsers = [], allSupervisors = [];

    function loadJobs(cb) {
      db.ref("jobs").once("value", snap => {
        if(snap.exists()){
          jobsData = Object.values(snap.val());
          jobsKeys = Object.keys(snap.val());
        } else {
          jobsData = [];
          jobsKeys = [];
        }
        if(cb) cb();
      });
    }
    function loadAllData(cb){
      db.ref("applications").once("value", snap=>{
        allApplications = snap.exists()?Object.entries(snap.val()).map(([k,v])=>({...v,key:k})): [];
        db.ref("users").once("value", snap2=>{
          allUsers = snap2.exists()?Object.values(snap2.val()):[];
          db.ref("supervisors").once("value", snap3=>{
            allSupervisors = snap3.exists()?Object.entries(snap3.val()).map(([k,v])=>({...v,key:k})): [];
            if(cb) cb();
          });
        });
      });
    }

    // Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    function showAdminPanel() {
      loadJobs(()=>loadAllData(()=>loadSiteSettings(()=>{
        let adminHtml = "";

        // Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        adminHtml += `
        <div class="card" style="flex:2.2;">
          <div class="card-title"><span>âš™ï¸</span> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</div>
          <div style="margin-bottom:12px;">
            <img class="logo-preview" src="${siteSettings.logo||defaultSiteSettings.logo}" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ø¹Ø§Ø±" id="logo-img-preview"/>
          </div>
          <form class="site-settings" onsubmit="return false;">
            <div class="row"><label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</label><input id="site-title" type="text" value="${siteSettings.title||''}"></div>
            <div class="row"><label>Ø§Ù„ÙˆØµÙ Ø§Ù„ÙØ±Ø¹ÙŠ:</label><input id="site-subtitle" type="text" value="${siteSettings.subtitle||''}"></div>
            <div class="row"><label>Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ©:</label><input id="site-footer" type="text" value="${siteSettings.footer||''}"></div>
            <div class="row"><label>Ù„ÙˆÙ† Ø±Ø¦ÙŠØ³ÙŠ:</label><input id="main-color" type="color" value="${siteSettings.mainColor||'#6900ad'}"></div>
            <div class="row"><label>Ù„ÙˆÙ† Ø«Ø§Ù†ÙˆÙŠ:</label><input id="secondary-color" type="color" value="${siteSettings.secondaryColor||'#f9d13d'}"></div>
          </form>
          <button class="admin-btn" onclick="saveSettingsFields()">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
          <button class="admin-btn reset" onclick="resetSiteSettings()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
        </div>
        `;

        // Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        adminHtml += `
        <div class="card" style="flex:1.2;">
          <div class="card-title"><span>ğŸ“Š</span> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div>
          <div class="stats-bar">
            <div class="stat"><span>ğŸ—‚ï¸</span> ÙˆØ¸Ø§Ø¦Ù: ${jobsData.length}</div>
            <div class="stat"><span>ğŸ“‹</span> Ø§Ù„Ø·Ù„Ø¨Ø§Øª: ${allApplications.length}</div>
            <div class="stat"><span>ğŸ‘¤</span> Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: ${allUsers.length}</div>
            <div class="stat"><span>ğŸ›¡ï¸</span> Ù…Ø´Ø±ÙÙŠÙ†: ${allSupervisors.length+1}</div>
          </div>
          <button onclick="logout()" class="logout-btn">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>
        `;

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† (Hero ÙÙ‚Ø·)
        if(isHero){
        adminHtml += `
        <div class="card" style="flex:1.1;">
          <div class="card-title"><span>ğŸ›¡ï¸</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</div>
          <form id="add-supervisor-form" style="margin-bottom:9px;display:flex;gap:7px;flex-wrap:wrap;align-items:center;" onsubmit="return false;">
            <input id="supervisor-username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required style="width:120px;">
            <input id="supervisor-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required type="password" style="width:120px;">
            <button class="admin-btn" type="submit">Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±Ù</button>
          </form>
          <table class="supervisors-table">
            <tr><th>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù</th><th>Ø­Ø°Ù</th></tr>
            <tr><td><b>Hero</b> (Ø±Ø¦ÙŠØ³ÙŠ)</td><td>---</td></tr>
            ${allSupervisors.map(s=>`<tr><td>${s.username}</td><td><button class="admin-btn danger" onclick="deleteSupervisor('${s.key}')">Ø­Ø°Ù</button></td></tr>`).join("")}
          </table>
        </div>
        `;
        }

        // Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©
        adminHtml += `
        <div class="card" style="flex:1.7;">
          <div class="card-title"><span>â•</span> Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©</div>
          <form class="admin-add-job" id="add-job-form" onsubmit="return false;" style="display:flex;gap:7px;flex-wrap:wrap;margin-bottom:10px;">
            <input id="job-title" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆØ¸ÙŠÙØ©" required style="width:140px;">
            <input id="job-company" placeholder="Ø§Ù„Ø´Ø±ÙƒØ©" required style="width:110px;">
            <input id="job-salary" type="number" placeholder="Ø§Ù„Ø±Ø§ØªØ¨" required style="width:75px;">
            <input id="job-hours" type="number" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª" required style="width:60px;">
            <select id="job-province" required style="width:115px;">
              <option value="">Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</option>
              <option>Ø¹Ù…Ø§Ù†</option><option>Ø¥Ø±Ø¨Ø¯</option><option>Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡</option><option>Ø§Ù„Ø¹Ù‚Ø¨Ø©</option>
              <option>Ø§Ù„Ù…ÙØ±Ù‚</option><option>Ø§Ù„Ø³Ù„Ø·</option><option>Ø¬Ø±Ø´</option>
              <option>Ø¹Ø¬Ù„ÙˆÙ†</option><option>Ù…Ø£Ø¯Ø¨Ø§</option><option>Ø§Ù„ÙƒØ±Ùƒ</option>
              <option>Ø§Ù„Ø·ÙÙŠÙ„Ø©</option><option>Ù…Ø¹Ø§Ù†</option>
              <option>ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª</option>
            </select>
            <select id="job-type" required style="width:110px;">
              <option value="">Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙˆØ§Ù…</option>
              <option>Ø¯ÙˆØ§Ù… ÙƒØ§Ù…Ù„</option>
              <option>Ø¯ÙˆØ§Ù… Ø¬Ø²Ø¦ÙŠ</option>
              <option>Ø¹Ù‚Ø¯ Ù…Ø¤Ù‚Øª</option>
              <option>Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯</option>
            </select>
            <input id="job-exp" placeholder="Ø§Ù„Ø®Ø¨Ø±Ø©" required style="width:90px;">
            <input id="job-img" placeholder="Ø±Ù…Ø²/Ø¥ÙŠÙ…ÙˆØ¬ÙŠ" maxlength="2" style="width:50px;">
            <input id="job-desc" placeholder="ÙˆØµÙ Ø§Ù„ÙˆØ¸ÙŠÙØ©" required style="width:170px;">
            <input type="file" id="job-imgupload" style="width:140px;" accept="image/*">
            <button class="admin-btn" type="submit">Ø¥Ø¶Ø§ÙØ©</button>
          </form>
          <button class="admin-btn light" onclick="showModal('readyjob-modal-bg')">Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø§Ù‡Ø²Ø©</button>
          <div id="add-job-err" class="err"></div>
        </div>
        `;

        // ÙƒÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù (Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ¨Ø·Ø§Ù‚Ø§Øª Ù…Ø¹ Ø¨Ø­Ø« ÙˆØ£ÙƒØ´Ù†)
        adminHtml += `
        <div class="card" style="flex:2.2;">
          <div class="card-title"><span>ğŸ—‚ï¸</span> Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</div>
          <input class="search-box" id="job-search" placeholder="Ø¨Ø­Ø« Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ©/Ø§Ù„Ø´Ø±ÙƒØ©..." oninput="renderJobsTable(this.value)">
          <div id="jobs-table-wrapper"></div>
        </div>
        `;

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        adminHtml += `
        <div class="card" style="flex:2.2;">
          <div class="card-title"><span>ğŸ‘¤</span> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</div>
          <input class="search-box" id="user-search" placeholder="Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…/Ø§Ù„Ù‡Ø§ØªÙ..." oninput="renderUsersTable(this.value)">
          <div id="users-table-wrapper"></div>
        </div>
        `;

        // ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
        adminHtml += `<div id="job-apps-list"></div>`;

        document.getElementById("admin-wrapper").innerHTML = adminHtml;

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
        window.saveSettingsFields = function(){
          siteSettings.title = document.getElementById("site-title").value;
          siteSettings.subtitle = document.getElementById("site-subtitle").value;
          siteSettings.footer = document.getElementById("site-footer").value;
          siteSettings.mainColor = document.getElementById("main-color").value;
          siteSettings.secondaryColor = document.getElementById("secondary-color").value;
          saveSiteSettings();
          showAdminPanel();
        };

        // Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
        document.getElementById("logo-img-preview").onclick = function() {
          document.getElementById("logo-upload").click();
        };

        // Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±Ù Ø¬Ø¯ÙŠØ¯
        if(isHero){
        document.getElementById("add-supervisor-form").onsubmit = function() {
          let username = document.getElementById("supervisor-username").value.trim();
          let password = document.getElementById("supervisor-password").value.trim();
          if(!username || !password) return false;
          db.ref("supervisors").push({username,password},()=>{showToast("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø´Ø±Ù!");showAdminPanel();});
          return false;
        };
        window.deleteSupervisor = function(key){
          if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±ÙØŸ"))return;
          db.ref("supervisors/"+key).remove(()=>{showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø´Ø±Ù!");showAdminPanel();});
        };
        }

        // Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©
        let newImgUrl = "";
        document.getElementById("job-imgupload").onchange = function(e){
          let file = e.target.files[0];
          if(!file) return;
          let reader = new FileReader();
          reader.onload = function(evt){
            newImgUrl = evt.target.result;
          };
          reader.readAsDataURL(file);
        };
        document.getElementById("add-job-form").onsubmit=function(){
          let n = {
            id: Date.now(),
            title:document.getElementById("job-title").value,
            company:document.getElementById("job-company").value,
            salary:+document.getElementById("job-salary").value,
            hours:+document.getElementById("job-hours").value,
            province:document.getElementById("job-province").value,
            type:document.getElementById("job-type").value,
            exp:document.getElementById("job-exp").value,
            img:document.getElementById("job-img").value,
            desc:document.getElementById("job-desc").value,
          };
          if(newImgUrl) n.imgUrl = newImgUrl;
          db.ref("jobs").push(n,()=>{showToast("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¸ÙŠÙØ©!");showAdminPanel();});
          newImgUrl = "";
          return false;
        }

        // Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø§Ù‡Ø²Ø© (Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±)
        let readyList = document.getElementById("ready-job-list");
        readyList.innerHTML = readyJobs.map((j,i)=>`<option value="${i}">${j.title} - ${j.company}</option>`).join("");
        document.getElementById("add-ready-job-btn").onclick = function(){
          let idx = readyList.value;
          if(idx==="") {document.getElementById("readyjob-err").innerText="ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙˆØ¸ÙŠÙØ©";return;}
          let job = {...readyJobs[+idx]};
          job.id = Date.now();
          job.province = "ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª";
          db.ref("jobs").push(job,()=>{showToast("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©!");hideModal("readyjob-modal-bg");showAdminPanel();});
        };

        // Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
        window.renderJobsTable = function(filter=""){
          let jobs = jobsData;
          if(filter && filter.trim()!=="") jobs = jobs.filter(j => (j.title+j.desc+j.company+j.province+j.type).includes(filter));
          let html = `<table class="jobs-table"><tr>
            <th>#</th><th>Ø§Ù„ÙˆØ¸ÙŠÙØ©</th><th>Ø§Ù„Ø´Ø±ÙƒØ©</th><th>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</th><th>Ø§Ù„Ø±Ø§ØªØ¨</th>
            <th>Ø·Ù„Ø¨Ø§Øª</th><th>Ø­Ø°Ù</th></tr>`;
          jobs.forEach((j,i)=>{
            let jobApps = allApplications.filter(a=>a.jobId==j.id);
            html+=`<tr>
              <td>${i+1}</td>
              <td>${j.title}</td>
              <td>${j.company}</td>
              <td>${j.province}</td>
              <td>${j.salary}</td>
              <td><button class="admin-btn" onclick="showJobAppsById(${j.id})">${jobApps.length}</button></td>
              <td><button class="admin-btn danger" onclick="deleteJobById(${j.id})">Ø­Ø°Ù</button></td>
            </tr>`;
          });
          html+=`</table>`;
          document.getElementById("jobs-table-wrapper").innerHTML = html;
        };
        renderJobsTable();

        // Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
        window.renderUsersTable = function(filter=""){
          let users = allUsers;
          if(filter && filter.trim()!=="") users = users.filter(u => (u.name+u.phone+u.province).includes(filter));
          let html = `<table class="users-table"><tr><th>#</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‡Ø§ØªÙ</th><th>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th><th>Ø­Ø°Ù</th></tr>`;
          users.forEach((u,i)=>{
            html+=`<tr>
              <td>${i+1}</td>
              <td>${u.name}</td>
              <td>${u.phone}</td>
              <td>${u.province}</td>
              <td>${u.timestamp?new Date(u.timestamp).toLocaleString("ar-EG"):"--"}</td>
              <td><button class="admin-btn danger" onclick="deleteUser('${u.phone}')">Ø­Ø°Ù</button></td>
            </tr>`;
          });
          html+=`</table>`;
          document.getElementById("users-table-wrapper").innerHTML = html;
        };
        renderUsersTable();

        // Ø£ÙƒØ´Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„ÙƒÙ„ ÙˆØ¸ÙŠÙØ©
        window.showJobAppsById=function(jobId){
          let job=jobsData.find(j=>j.id==jobId);
          let jobApps=allApplications.filter(a=>a.jobId==jobId);
          let html2=`<div class="modal-bg" id="apps-modal-bg" style="display:flex;"><div class="modal" style="width:95vw;max-width:650px;">
            <span class="close-x" onclick="document.getElementById('apps-modal-bg').remove()">&times;</span>
            <h3>Ø·Ù„Ø¨Ø§Øª ÙˆØ¸ÙŠÙØ©: <span style="color:#6900ad;">${job.title}</span></h3>`;
          if(!jobApps.length) html2+="<div>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª.</div>";
          else jobApps.forEach(a=>{
            html2+=`<div style="border-bottom:1px solid #ddd;margin-bottom:6px;">
              <b>${a.name}</b> - ${a.phone} (${a.province})<br>
              <span>${a.email||"--"}</span>
              <div>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: ${a.timestamp?new Date(a.timestamp).toLocaleString("ar-EG"):"--"}</div>
              <span class="status-badge ${a.status||'pending'}">${a.status=="pending"?"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©":a.status=="approved"?"Ù…Ù‚Ø¨ÙˆÙ„":"Ù…Ø±ÙÙˆØ¶"}</span>
              ${a.status=="pending"?`
                <button class="admin-btn" onclick="approveApp('${a.key}')">Ù‚Ø¨ÙˆÙ„</button>
                <button class="admin-btn danger" onclick="rejectAppPrompt('${a.key}')">Ø±ÙØ¶</button>
              `:""}
              <button class="admin-btn danger" onclick="deleteApp('${a.key}')">Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨</button>
              ${a.status=="rejected"&&a.adminMsg?`<div style="color:#b30000;">Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶: ${a.adminMsg}</div>`:""}
            </div>`;
          });
          html2+=`</div></div>`;
          document.getElementById("job-apps-list").innerHTML = html2;
        };
        window.approveApp = function(key){
          db.ref("applications/"+key+"/status").set("approved",()=>{showToast("ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨!");showAdminPanel();});
        };
        window.rejectAppPrompt = function(key){
          let reason = prompt("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶:");
          if(reason===null) return;
          db.ref("applications/"+key).update({status:"rejected",adminMsg:reason||""},()=>{showToast("ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨!");showAdminPanel();});
        };
        window.deleteApp=function(key){
          if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ØŸ"))return;
          db.ref("applications/"+key).remove(()=>{showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨!");showAdminPanel();});
        }

        // Ø­Ø°Ù ÙˆØ¸ÙŠÙØ©
        window.deleteJobById=function(jobId){
          if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŸ"))return;
          let idx = jobsData.findIndex(j=>j.id==jobId);
          let key=jobsKeys[idx];
          db.ref("jobs/"+key).remove(()=>{showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„ÙˆØ¸ÙŠÙØ©!");showAdminPanel();});
        };

        // Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
        window.deleteUser = function(phone){
          if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ"))return;
          db.ref("users/"+phone).remove(()=>{showToast("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…!");showAdminPanel();});
        }

      })));
    }
    // Ø¥ØºÙ„Ø§Ù‚ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬ Ø§Ù„Ù†Ø§ÙØ°Ø©
    document.getElementById("admin-modal-bg").onclick=function(e){
      if(e.target===this) hideModal("admin-modal-bg");
    }
    window.onload = checkAdmin;

  </script>
</body>
</html>